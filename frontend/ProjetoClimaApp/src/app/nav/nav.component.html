<!-- Botão toggler externo, visível quando sidebar está escondida -->
<button
  class="btn btn-primary position-fixed top-0 start-0 m-2"
  *ngIf="shouldShowNav() && isCollapsed"
  (click)="toggleCollapse()"
  [ngClass]="{
    'd-block': true,
    'small-screen-toggle': !isLargeScreen,
    'large-screen-toggle': isLargeScreen
  }"
>
  <i class="bi bi-list"></i>
</button>

<!-- Sidebar -->
<div
  class="sidebar d-flex flex-column p-4 position-fixed h-100"
  [style.left]="isCollapsed ? '-250px' : '0'"
  style="
    width: 250px;
    top: 0;
    transition: left 0.3s ease-in-out;
    background-color: #e6f0fa;
    border-right: 1px solid #d1d9e6;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
    border-top-right-radius: 8px;
    border-bottom-right-radius: 8px;
    z-index: 1000;
  "
>
  <div class="d-flex justify-content-between align-items-center mb-4">
    <a class="navbar-brand text-primary fw-bold" href="#">Clima App</a>
    <button class="btn btn-link p-0 text-muted" (click)="toggleCollapse()">
      <i
        class="bi"
        [ngClass]="isCollapsed ? 'bi-list' : 'bi-x-lg'"
        style="font-size: 1.5rem"
      ></i>
    </button>
  </div>
  <ul class="nav flex-column mb-auto">
    <li class="nav-item">
      <a
        class="nav-link text-dark"
        routerLink="/search"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Busca</a
      >
    </li>
    <li class="nav-item">
      <a
        class="nav-link text-dark"
        routerLink="/favorites"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Favoritos</a
      >
    </li>
  </ul>
  <ul class="nav flex-column" *ngIf="isLoggedIn()">
    <li class="nav-item">
      <button class="btn btn-danger-light w-100" (click)="logout()">
        Sair
      </button>
    </li>
  </ul>
</div>
